<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layouts/admin/main}">

<main layout:fragment="content">
	<form name="frmJoin" method="post" th:action="@{/baseinfo/coninfo}" th:object="${conInfoVO}" autocomplete="off">
		계약정보 페이지
		<div>
			<input type="text" id="clnt_cd" th:field="*{clntCd}" th:placeholder="#{clntCd}" th:style="'background:#D8D8D8'" readonly/>
			<input type="text" list="clnt" id="clnt_tmp" name="clnt_tmp" th:placeholder="#{clntNm}"/>
			<datalist id="clnt">
				<select id="clnt_sel">
					<option th:each="clnt : ${clntList}" th:label="${clnt.clntCd}" th:value="${clnt.clntNm}">
					</option>
				</select>
			</datalist>
		</div>
		<script>
                 document.addEventListener('DOMContentLoaded', function() {
                    const clnt = document.getElementById("clnt_tmp");

                    var selected = document.querySelector("select#clnt_sel")

                    clnt.addEventListener("change", UpdateClnt)
                 });


                 function UpdateClnt(e) {
                    var evnt = e.currentTarget;
                    var selected = document.querySelector("select#clnt_sel")
                    var datalist = evnt.list;
                    var clntcd = document.getElementById("clnt_cd");

                    for(var j = 0; j < datalist.options.length; j++){
                       if(this.value == datalist.options[j].value) {
                          clntcd.value = datalist.options[j].label;
                       }
                    }
                 }
            </script>
		<div>
			<input type="number" th:field="*{mMin}" th:placeholder="#{m_min}">
		</div>
		<div>
			<input type="text" th:field="*{pltFee}" th:placeholder="#{plt_fee}">
		</div>
		<div>
			<input type="text" th:field="*{transSdt}" th:placeholder="#{tran_sdt}">
		</div>
		<div>
			<input type="text" th:field="*{transEdt}" th:placeholder="#{tran_edt}">
		</div>
		<div>
			<input type="text" th:field="*{remark}" th:placeholder="#{remk}">
		</div>
		<button type="submit" th:text="#{conInfo.action.submit}"></button>
	</form>
</main>
</html>