<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.warehouse.configs.models.mapper.RelsDAO">
	<resultMap id="relsMap" type="org.warehouse.models.rels.relsAction.RelsVO">
		<!-- rels_common -->
		<result property="wactrCd" column="WACTR_CD" />
		<result property="clntCd" column="CLNT_CD" />
		<result property="clntNm" column="CLNT_NM" />
		<result property="locCd" column="LOC_CD" />
		<result property="itemCd" column="ITEM_CD" />
		<result property="itemNm" column="ITEM_NM" />
		<result property="custCd" column="CUST_CD" />
		<result property="custNm" column="CUST_NM" />
		<result property="custCtrCd" column="CUST_CTR_CD" />
		<result property="custCtrNm" column="CUST_CTR_NM" />
		<!-- rels_h -->
		<result property="relsDt" column="RELS_DT" />
		<result property="relsNo" column="RELS_NO" />
		<result property="status" column="STATUS" />
		<result property="remk" column="REMK" />
		<!-- rels_d -->
		<result property="relsDNo" column="RELS_D_NO" />
		<result property="regInAmt" column="REG_IN_AMT" />
		<result property="relsCnt" column="RELS_CNT" />
		<result property="confDt" column="CONF_DT" />
		<result property="deliRequestDt" column="DELI_REQUEST_DT" />
		<result property="plt" column="PLT" />
		<result property="box" column="BOX" />
		<result property="relsAfterAmt" column="RELS_AFTER_AMT" />
		<!-- rels_s -->
		<result property="alloNo" column="ALLO_NO" />
		<result property="alloAmt" column="ALLO_AMT" />
		<result property="relsAmt" column="RELS_AMT" />
		<result property="alloAfterStock" column="ALLO_AFTER_STOCK" />
	</resultMap>

	<select id="relsList" resultMap="relsMap">
		SELECT A.RELS_DT
		, A.RELS_NO
		, A.CLNT_CD
		, B.CLNT_NM
		, C.RELS_VALUE STATUS
		, A.REMK
		FROM RELS_H A
		INNER JOIN CLNT B
		ON A.CLNT_CD = B.CLNT_CD
		INNER JOIN RELS_CODE C
		ON A.STATUS = C.RELS_CODE
		ORDER BY A.REG_DT DESC
	</select>
</mapper>